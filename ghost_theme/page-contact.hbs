{{!< default}}

{{#post}}
    <article class="gh-article {{post_class}}">

        <header class="gh-header gh-canvas">
            <h1 class="gh-title">{{title}}</h1>

            {{#if custom_excerpt}}
                <p class="gh-excerpt about">{{custom_excerpt}}</p>
            {{/if}}

            {{#if feature_image}}
                <img class="gh-feature-image" src="{{feature_image}}" alt="{{title}}"/>
            {{/if}}
        </header>

        <div class="gh-canvas">
            <div id="get-in-touch-form" class="get-in-touch-form-wrap w-form">
                <form id="wf-form-Get-In-Touch-Form" name="wf-form-Get-In-Touch-Form" data-name="Get In Touch Form"
                      action="https://formspree.io/xknrzlok" method="POST"
                      class="get-in-touch-form">
                    <div class="credentials-inputs-wrap">
                        <div class="contact-name-field-wrap">
                            <label for="Naam" class="field-label">Naam</label>
                            <input type="text" class="text-field cc-contact-field w-input" maxlength="256" name="Naam"
                                data-name="Naam" placeholder="Vul je naam in" id="Naam" required>
                        </div>
                        <div class="email-name-field-wrap">
                            <label for="Email-2" class="field-label-2">Email Adres</label>
                            <input type="email" class="text-field cc-contact-field w-input" maxlength="256"
                                                name="email" data-name="Email" placeholder="Vul je email in"
                                                id="Email-2" required></div>
                    </div>
                    <label class="field-label-3">Message</label>
                    <textarea id="message" name="message" data-name="Message" maxlength="5000" placeholder="Uw bericht"
                              class="text-field cc-textarea cc-contact-field w-input" required></textarea>
                    <input id="submit-message-btn"
                        type="submit" value="Versturen" data-wait="Please wait..." class="button w-button"></form>
            </div>
            <div class="get-in-touch-form-wrap w-form">
                <div id="form-status" class="status-message cc-success-message w-form-done">

                </div>
            </div>
        </div>
    </article>
    {{> "meetup"}}
{{/post}}
<!-- Place this script at the end of the body tag -->

<script>
    window.addEventListener("DOMContentLoaded", function() {

        // get the form elements defined in your form HTML above

        var wrapper = document.getElementById("get-in-touch-form");
        var form = document.getElementById("wf-form-Get-In-Touch-Form");
        var button = document.getElementById("submit-message-btn");
        var status = document.getElementById("form-status");

        // Success and Error functions for after the form is submitted

        function success() {
            form.reset();
            button.style = "display: none ";
            status.innerHTML = 'Hartelijk dank, uw bericht is ontvangen';
            wrapper.style = "display: none ";
        }

        function error() {
            status.innerHTML = 'Er is iets misgegaan bij het versturen van uw bericht. Probeer het later nogmaals';
        }

        // handle the form submission event

        form.addEventListener("submit", function(ev) {
            ev.preventDefault();
            var data = new FormData(form);
            ajax(form.method, form.action, data, success, error);
        });
    });

    // helper function for sending an AJAX request

    function ajax(method, url, data, success, error) {
        var xhr = new XMLHttpRequest();
        xhr.open(method, url);
        xhr.setRequestHeader("Accept", "application/json");
        xhr.onreadystatechange = function() {
            if (xhr.readyState !== XMLHttpRequest.DONE) return;
            if (xhr.status === 200) {
                success(xhr.response, xhr.responseType);
            } else {
                error(xhr.status, xhr.response, xhr.responseType);
            }
        };
        xhr.send(data);
    }
</script>
